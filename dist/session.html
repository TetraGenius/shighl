<html>
<script src="./vendor/solid-auth-client.bundle.js"></script>
<script src="./vendor/solid-query-ldflex.bundle.js"></script>
<script src="./window/shighl.bundle.js"></script>
<body onload="init()">

  Look the web console to see the pod infos (Ctrl+Maj+i)<br><br>

  <h3>trackSession()</h3>
  Session : <span id="info"></span>

  <h3>login() / logout()</h3>
  <button id="login_btn" onclick="session.login()">Login</button>
  <br>  <button id="logout_btn" onclick="session.logout()">Logout</button>
  <br> <br>


  <a href="https://github.com/scenaristeur/shighl" target="_blank">Source</a>
  <br>
  <a href="index.html">Back to index</a>
  <script>

  const info = document.getElementById("info")
  const login_btn = document.getElementById("login_btn")
  const logout_btn = document.getElementById("logout_btn")
  const sh = new Shighl()
  console.log(sh)
  let session = new sh.session()

  async function init(){
    await session.track(mycallback)
  }

  function mycallback(webId){
    console.log("WebId: ",webId)
    if (webId != null){
      info.innerHTML = webId
      login_btn.style.display = "none"
      logout_btn.style.display = "block"
    }else{
      info.innerHTML = "No session look at https://solid.inrupt.com/get-a-solid-pod"
      login_btn.style.display = "block"
      logout_btn.style.display = "none"
      session.login()
    }
  }


  </script>
</body>

</html>
